# WAITLESS-CHU System Architecture Diagram

## System Flow Diagram

```
                                   ğŸ¥ WAITLESS-CHU System Architecture
                                   
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ‘¤ Patient    â”‚                   â”‚  ğŸ–¥ï¸ Frontend     â”‚                   â”‚  âš™ï¸ Backend      â”‚
â”‚   (Utilisateur) â”‚                   â”‚   (Next.js)     â”‚                   â”‚   (FastAPI)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                       â”‚                                       â”‚
         â”‚ ğŸ“± Scan QR Code                      â”‚                                       â”‚
         â”‚ + Enter Info                         â”‚                                       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                                       â”‚
         â”‚                                      â”‚ ğŸ” POST /api/auth/login              â”‚
         â”‚                                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚                                      â”‚ âœ… JWT Token                          â”‚
         â”‚                                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ ğŸ« Digital Ticket                    â”‚                                       â”‚
         â”‚ + Queue Position                     â”‚                                       â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚                                      â”‚ ğŸ“Š GET /api/queue/status             â”‚
         â”‚ ğŸ“ Real-time Position Updates        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚                                      â”‚ ğŸ¯ POST /api/tickets/create          â”‚
         â”‚ ğŸ†” Ticket Generation                 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚                                      â”‚
         â”‚                                      â”‚â”‚ âœ… Ticket Created                     â”‚
         â”‚                                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
         â”‚                                      â”‚                                       â”‚
                                                â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚                                       â”‚
â”‚  ğŸ‘¨â€âš•ï¸ Medical     â”‚                            â”‚                                       â”‚
â”‚    Staff        â”‚                            â”‚                                       â”‚
â”‚ (Personnel)     â”‚                            â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚                                       â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚ ğŸ” Login to Dashboard                â”‚                                       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                                       â”‚
         â”‚                                      â”‚ ğŸ”‘ POST /api/auth/staff-login        â”‚
         â”‚                                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚                                      â”‚ âœ… Staff JWT Token                    â”‚
         â”‚                                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ ğŸ“Š Access Dashboard                  â”‚                                       â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚ ğŸ“‹ Manage Queue                      â”‚ ğŸ¯ PUT /api/queue/next               â”‚
         â”‚ (Next Patient)                       â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚â”‚                                      â”‚
         â”‚â”‚                                     â”‚â”‚ âœ… Queue Updated                      â”‚
         â”‚â”‚ ğŸ“Š Updated Queue Status             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚                                      â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚ ğŸ“ˆ View Analytics                    â”‚ ğŸ“Š GET /api/admin/reports            â”‚
         â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚â”‚                                     â”‚â”‚                                      â”‚
         â”‚â”‚ ğŸ“Š Reports & Analytics              â”‚â”‚ ğŸ“ˆ Analytics Data                     â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
         â”‚                                      â”‚                                       â”‚
                                                â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚                                       â”‚
â”‚  ğŸ›¡ï¸ Admin       â”‚                            â”‚                                       â”‚
â”‚ (Administrateur)â”‚                            â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚                                       â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚ ğŸ” Admin Login                       â”‚                                       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                                       â”‚
         â”‚                                      â”‚ ğŸ”‘ POST /api/auth/admin-login        â”‚
         â”‚                                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚                                      â”‚ âœ… Admin JWT Token                    â”‚
         â”‚                                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ âš™ï¸ System Configuration              â”‚                                       â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚ ğŸ¥ Manage Services                   â”‚ âš™ï¸ POST /api/admin/services          â”‚
         â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚â”‚                                     â”‚â”‚                                      â”‚
         â”‚â”‚ âœ… Services Updated                 â”‚â”‚ âœ… Service Configuration              â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
         â”‚                                      â”‚                                       â”‚
         â”‚ ğŸ‘¥ User Management                   â”‚ ğŸ‘¤ GET/POST /api/admin/users         â”‚
         â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
         â”‚â”‚                                     â”‚â”‚                                      â”‚
         â”‚â”‚ ğŸ‘¥ User List & Roles                â”‚â”‚ ğŸ‘¥ User Data                          â”‚
         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
         â”‚                                      â”‚                                       â”‚
                                                â”‚                                       â”‚
                                                â”‚                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                â”‚                                       â”‚  ğŸ—„ï¸ Database    â”‚
                                                â”‚                                       â”‚  (PostgreSQL)   â”‚
                                                â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚                                                â”‚
                                                â”‚                                                â”‚
                                                â”‚                            ğŸ“Š Database Operations â”‚
                                                â”‚                                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                                                â”‚                                       â”‚ â€¢ Users        â”‚
                                                â”‚                                       â”‚ â€¢ Services     â”‚
                                                â”‚                                       â”‚ â€¢ Tickets      â”‚
                                                â”‚                                       â”‚ â€¢ Queue        â”‚
                                                â”‚                                       â”‚ â€¢ Analytics    â”‚
                                                â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key System Components

### ğŸ¯ **Main User Flows**

1. **Patient Flow (QR Scan-to-Join)**
   - Scan QR code at service location
   - Enter basic information (no registration)
   - Receive digital ticket with queue position
   - Get real-time updates and notifications

2. **Medical Staff Flow**
   - Login to staff dashboard
   - Monitor real-time queue status
   - Call next patient
   - View service analytics

3. **Admin Flow**
   - System configuration and monitoring
   - Service management
   - User role management
   - Analytics and reporting

### ğŸ—ï¸ **Technical Architecture**

#### **Frontend Structure**
```
Frontend/
â”œâ”€â”€ ğŸ  Acceuil/          # Landing page
â”œâ”€â”€ ğŸ“± qr-display/       # QR code display system
â”œâ”€â”€ ğŸ« tickets/          # Ticket management
â”œâ”€â”€ ğŸ‘¥ patients/         # Patient interface
â”œâ”€â”€ ğŸ“Š dashboard/        # Staff dashboard
â”œâ”€â”€ ğŸ“ˆ reports/          # Analytics interface
â”œâ”€â”€ ğŸ” signup/           # User registration
â””â”€â”€ âš™ï¸ services/         # Service management
```

#### **Backend API Endpoints**
```
Backend/
â”œâ”€â”€ ğŸ” /api/auth/        # Authentication
â”œâ”€â”€ ğŸ¥ /api/services/    # Service management
â”œâ”€â”€ ğŸ« /api/tickets/     # Ticket operations
â”œâ”€â”€ ğŸ“Š /api/queue/       # Queue management
â”œâ”€â”€ ğŸ›¡ï¸ /api/admin/      # Admin operations
â””â”€â”€ ğŸ“± /api/tickets-qr/  # QR features
```

### ğŸ” **Security & Authentication**
- JWT-based authentication
- Role-based access control (Patient/Staff/Admin)
- Secure QR code generation and validation
- CORS protection

### ğŸ“Š **Data Flow**
- Real-time queue updates
- Automatic position tracking
- Smart wait time estimation
- Comprehensive analytics collection

---

## ğŸš€ **Quick Start Instructions**

1. **Backend Setup:**
   ```bash
   cd Backend/
   pip install -r requirements.txt
   python main.py
   ```

2. **Frontend Setup:**
   ```bash
   cd Frontend/
   python start_https_server.py
   ```

3. **Access Points:**
   - API: `http://localhost:8000`
   - Frontend: `https://localhost:8443`
   - API Docs: `http://localhost:8000/docs`