<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gestion des Services - WaitLess CHU</title>
  <link rel="stylesheet" href="services.css" />
  <link rel="stylesheet" href="../shared/api.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="logo">
      <img src="../Acceuil/public/logofinal.png" alt="WaitLess Logo" class="logo-img">
    </div>
    <nav>
      <ul>
        <li><a href="../Acceuil/acceuil.html">Accueil</a></li>
        <li><a href="../dashboard/dashboard.html">Dashboard</a></li>
        <li><a href="services.html" class="active">Services</a></li>
        <li><a href="../patients/patients.html">Patients</a></li>
        <li><a href="../qr-display/qr-display.html">QR Codes</a></li>
        <li><a href="../reports/reports.html">Rapports</a></li>
        <li><a href="../tickets/ticket.html">Tickets</a></li>
        <li><a href="#" onclick="handleLogout()" style="color: #ff6b6b;">Déconnexion</a></li>
      </ul>
    </nav>
  </header>

  <div class="services-container">
    <div class="services-header">
      <h1><i class="fas fa-hospital-alt"></i> Gestion des Services</h1>
      <p>Configuration et gestion des services médicaux du CHU</p>
      <button class="add-service-btn" onclick="openAddServiceModal()">
        <i class="fas fa-plus"></i> Ajouter un Service
      </button>
    </div>

    <div class="services-grid" id="servicesGrid">
      <!-- Les services seront générés dynamiquement -->
    </div>
  </div>

  <!-- MODAL AJOUT SERVICE -->
  <div class="modal-overlay" id="addServiceModal">
    <div class="modal">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h2><i class="fas fa-plus-circle"></i> Ajouter un Service</h2>
      <form id="addServiceForm">
        <div class="input-group">
          <i class="fas fa-hospital"></i>
          <input type="text" id="serviceName" placeholder="Nom du service" required>
        </div>
        <div class="input-group">
          <i class="fas fa-map-marker-alt"></i>
          <input type="text" id="serviceLocation" placeholder="Localisation" required>
        </div>
        <div class="input-group">
          <i class="fas fa-clock"></i>
          <input type="number" id="maxWaitTime" placeholder="Temps d'attente max (min)" required>
        </div>
        <div class="input-group">
          <i class="fas fa-exclamation-triangle"></i>
          <select id="servicePriority" required>
            <option value="">Sélectionner la priorité</option>
            <option value="high">Haute</option>
            <option value="medium">Moyenne</option>
            <option value="low">Basse</option>
          </select>
        </div>
        <div class="input-group">
          <i class="fas fa-file-alt"></i>
          <textarea id="serviceDescription" placeholder="Description du service" rows="3"></textarea>
        </div>
        <div class="form-buttons">
          <button type="button" onclick="closeModal()">
            <i class="fas fa-times"></i> Annuler
          </button>
          <button type="submit">
            <i class="fas fa-check"></i> Ajouter
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL ÉDITION SERVICE -->
  <div class="modal-overlay" id="editServiceModal">
    <div class="modal">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h2><i class="fas fa-edit"></i> Modifier le Service</h2>
      <form id="editServiceForm">
        <input type="hidden" id="editServiceId">
        <div class="input-group">
          <i class="fas fa-hospital"></i>
          <input type="text" id="editServiceName" placeholder="Nom du service" required>
        </div>
        <div class="input-group">
          <i class="fas fa-map-marker-alt"></i>
          <input type="text" id="editServiceLocation" placeholder="Localisation" required>
        </div>
        <div class="input-group">
          <i class="fas fa-clock"></i>
          <input type="number" id="editMaxWaitTime" placeholder="Temps d'attente max (min)" required>
        </div>
        <div class="input-group">
          <i class="fas fa-exclamation-triangle"></i>
          <select id="editServicePriority" required>
            <option value="">Sélectionner la priorité</option>
            <option value="high">Haute</option>
            <option value="medium">Moyenne</option>
            <option value="low">Basse</option>
          </select>
        </div>
        <div class="input-group">
          <i class="fas fa-file-alt"></i>
          <textarea id="editServiceDescription" placeholder="Description du service" rows="3"></textarea>
        </div>
        <div class="form-buttons">
          <button type="button" onclick="closeModal()">
            <i class="fas fa-times"></i> Annuler
          </button>
          <button type="submit">
            <i class="fas fa-save"></i> Modifier
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3><i class="fas fa-hospital-alt"></i> WaitLess CHU</h3>
        <p>Gestion intelligente des temps d'attente</p>
      </div>
      <div class="footer-section">
        <h4><i class="fas fa-phone"></i> Contact</h4>
        <p><i class="fas fa-envelope"></i> Email : contact@waitless-chu.app</p>
        <p><i class="fas fa-phone-alt"></i> Téléphone : +212 6 00 00 00 00</p>
      </div>
      <div class="footer-section">
        <h4><i class="fas fa-link"></i> Liens rapides</h4>
        <ul>
          <li><a href="../Acceuil/acceuil.html"><i class="fas fa-home"></i> Accueil</a></li>
          <li><a href="../dashboard/dashboard.html"><i class="fas fa-chart-line"></i> Dashboard</a></li>
          <li><a href="services.html"><i class="fas fa-hospital"></i> Services</a></li>
          <li><a href="../patients/patients.html"><i class="fas fa-users"></i> Patients</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p><i class="fas fa-copyright"></i> 2025 WaitLess CHU. Tous droits réservés.</p>
    </div>
  </footer>

  <script src="../shared/api.js"></script>
  <script src="../shared/permissions.js"></script>
  <script src="../shared/access-control.js"></script>
  <script src="../shared/components.js"></script>
  <script src="services.js"></script>
</body>
</html> 